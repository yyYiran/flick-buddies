<div id="search-component">
  
    <input #searchBox (input)="search(searchBox.value)">

  <!-- <p>bcisdbciu</p> -->
  <ul>
    <li *ngFor="let movie of movies$ | async" id="movie">
      <img [src]="'https://image.tmdb.org/t/p/original' + movie.poster_path">
      <div id="movieInfo">
        <h4>{{movie.title}}</h4>
        <span>{{movie.release_date}}</span>
        <p>{{movie.overview}}</p>
        <button (click)="openModal(this.movie)" [disabled]="this.movie.watched">
         Watched
        </button>
      </div>

      <modal #modal [modalConfig]="modalConfig" >
        <!--  body of the modal  -->
        <form #f="ngForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
              <label for="rating">My rating</label>
              <!-- <input type="number" id="rating"  class="form-control"/> -->
              <input [(ngModel)]="myReview.rating" #rating="ngModel" type="number" name="rating" required>
          </div>
          <div class="form-group">
              <label for="review">Review</label>
              <!-- <input type="text" id="review" class="form-control"/> -->
              <input [(ngModel)]="myReview.review" #review="ngModel" name="review" required>
          </div>
          
          <div *ngIf="(rating.invalid && (rating.dirty || rating.touched)) || review.invalid && (review.dirty || review.touched)"
          class="alert">
              <div *ngIf="rating.errors?.['required']">
                Rating is required. </div>
              <div *ngIf="review.errors?.['required']">
                Review is required. </div>
          </div>
      
          <div class="button-group">
            <button type="submit" class="btn btn-primary" [disabled]="rating.invalid || review.invalid">Save</button>
          </div>
         
        </form>
      </modal>
     
    </li>
  </ul>
</div>


  





